{"ast":null,"code":"var _jsxFileName = \"/home/cambam/Desktop/dev/mern/movieReviewApp/movie-reviews/frontend/src/components/movie.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport MovieDataService from '../services/movies';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport Card from 'react-bootstrap/Card';\nimport Container from \"react-bootstrap/Container\";\nimport Image from 'react-bootstrap/Image';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport Media from 'react-bootstrap/Media';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Movie = props => {\n  _s();\n  const [movie, setMovie] = useState({\n    id: null,\n    title: \"\",\n    rated: \"\",\n    reviews: []\n  });\n  const getMovie = id => {\n    MovieDataService.get(id).then(response => {\n      setMovie(response.data);\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n  useEffect(() => {\n    getMovie(props.match.params.id);\n  }, [props.match.params.id]);\n  const deleteReview = (reviewId, index) => {\n    MovieDataService.deleteReview(reviewId, props.user.id).then(response => {\n      setMovie(prevState => {\n        prevState.reviews.splice(index, 1);\n        return {\n          ...prevState\n        };\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: movie.poster + \"/100px250\",\n            fluid: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              as: \"h5\",\n              children: movie.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n                children: movie.plot\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 33\n              }, this), props.user && /*#__PURE__*/_jsxDEV(Link, {\n                to: `/movies/${props.match.params.id}/review`,\n                children: \"Add Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Reviews\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), movie.reviews.map((review, index) => {\n            return /*#__PURE__*/_jsxDEV(Media, {\n              children: /*#__PURE__*/_jsxDEV(Media.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [review.name + \" reviewed on \", \" \", moment(review.date).format(\"Do MMM YYYY\"), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: review.review\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 37\n                }, this), props.user && props.user.id === review.user_id && /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: {\n                        pathname: \"/movies/\" + props.match.params.id + \"/review\",\n                        state: {\n                          currentReview: review\n                        }\n                      },\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 80,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"link\",\n                      onClick: () => deleteReview(review._id, index),\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 50\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 33\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 37\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(Movie, \"3GgWzo6SBnoS2MvhqH5jXIJrlvM=\");\n_c = Movie;\nexport default Movie;\nvar _c;\n$RefreshReg$(_c, \"Movie\");","map":{"version":3,"names":["React","useState","useEffect","MovieDataService","Link","moment","Card","Container","Image","Col","Row","Button","Media","jsxDEV","_jsxDEV","Movie","props","_s","movie","setMovie","id","title","rated","reviews","getMovie","get","then","response","data","console","log","catch","e","match","params","deleteReview","reviewId","index","user","prevState","splice","children","src","poster","fluid","fileName","_jsxFileName","lineNumber","columnNumber","Header","as","Body","Text","plot","to","map","review","name","date","format","user_id","pathname","state","currentReview","variant","onClick","_id","_c","$RefreshReg$"],"sources":["/home/cambam/Desktop/dev/mern/movieReviewApp/movie-reviews/frontend/src/components/movie.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport MovieDataService from '../services/movies'\nimport { Link } from 'react-router-dom'\nimport moment from 'moment'\n\nimport Card from 'react-bootstrap/Card';\nimport Container  from \"react-bootstrap/Container\";\nimport Image from 'react-bootstrap/Image'\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport Media from 'react-bootstrap/Media';\n\nconst Movie = props => {\n\n    const [movie, setMovie] = useState({\n        id: null,\n        title: \"\",\n        rated: \"\",\n        reviews:[]\n    })\n\n    const getMovie = id =>{\n        MovieDataService.get(id).then(response => {\n            setMovie(response.data)\n            console.log(response.data)\n        }).catch(e =>{\n            console.log(e)\n        })      \n    }\n\n    useEffect(()=>{\n        getMovie(props.match.params.id)\n    },[props.match.params.id])\n\n    const deleteReview = (reviewId, index) =>{\n        MovieDataService.deleteReview(reviewId, props.user.id).then(response => {\n            setMovie((prevState) => {\n                prevState.reviews.splice(index,1)\n                return({\n                    ...prevState\n                })\n            })\n        }).catch(e =>{\n            console.log(e)\n        })\n    }\n\n    return (\n        <div>\n            <Container>\n                <Row>\n                    <Col>\n                    <Image src={movie.poster+\"/100px250\"} fluid />\n                    </Col>\n                    <Col>\n                        <Card>\n                            <Card.Header as=\"h5\">{movie.title}</Card.Header>\n                            <Card.Body>\n                                <Card.Text>\n                                    {movie.plot}\n                                </Card.Text>\n                                {props.user &&\n                                <Link to={`/movies/${props.match.params.id}/review`}>\n                                    Add Review\n                                    </Link>}\n                            </Card.Body>\n                        </Card>\n                        <br></br>    \n                        <h2>Reviews</h2>\n                        <br></br>\n                        {movie.reviews.map((review, index)=>{\n                            return (<Media key={index}>\n                                <Media.Body>\n                                    <h5>{review.name + \" reviewed on \"} {moment(review.date).format(\"Do MMM YYYY\")} </h5>\n                                    <p>{review.review}</p>\n                                    {props.user && props.user.id === review.user_id &&\n                                        <Row>\n                                            <Col>\n                                                <Link to={{\n                                                    pathname:\"/movies/\"+props.match.params.id+\"/review\",\n                                                    state: {currentReview: review}\n                                                }}>Edit</Link>\n                                            </Col>\n                                            <Col><Button variant=\"link\" onClick={() => deleteReview(review._id, index)}>\n                                                Delete</Button></Col>\n                                        </Row>\n                                        }\n                                </Media.Body>\n                            </Media>)\n                        })}\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    )\n}\n\nexport default Movie;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}