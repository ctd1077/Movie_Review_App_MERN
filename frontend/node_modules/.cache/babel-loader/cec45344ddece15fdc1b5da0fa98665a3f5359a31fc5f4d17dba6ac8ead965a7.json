{"ast":null,"code":"var _jsxFileName = \"/home/cambam/Desktop/dev/mern/movieReviewApp/movie-reviews/frontend/src/components/add-review.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport MovieDataService from \"../services/movies\";\nimport { Link } from \"react-router-dom\";\nimport Form from 'react-bootstrap/Form';\nimport Button from \"react-bootstrap/esm/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddReview = props => {\n  _s();\n  let editing = false;\n  let initialReviewState = \"\";\n\n  // if(props.location.state && props.location.state.currentReview){\n  //     editing = true\n  //     initialReviewState = props.location.state.currentReview.review\n  // }\n\n  const [review, setReview] = useState(initialReviewState);\n  const [submitted, setSubitted] = useState(false);\n  const onChangeReview = e => {\n    const review = e.target.value;\n    setReview(review);\n  };\n  const saveReview = () => {\n    var data = {\n      review: review,\n      name: props.user.name,\n      user_id: props.user.id,\n      movie_id: props.match.params.id // This will get the movie id directly from the url\n    };\n\n    // if(editing){\n    //     // get existing review id\n    //     data.review_id = props.location.state.currentReview._id\n    //     MovieDataService.updateReview(data).then(response =>{\n    //         setSubitted(true);\n    //         console.log(response.data)\n    //     }).catch(e =>{\n    //         console.log(e)\n    //     })\n    // }\n    // else{\n    MovieDataService.onChangeReview(data).then(response => {\n      setSubitted(true);\n    }).catch(e => {\n      console.log(e);\n    });\n    // }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: submitted ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Review submitted successfully\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/movies/\" + props.match.params.id,\n        children: \"Back to Movie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: [editing ? \"Edit\" : \"Create\", \" Review\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          required: true,\n          value: review,\n          onChange: onChangeReview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: saveReview,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(AddReview, \"Cx2ycIY01snbh4cmMqrA7EYw94k=\");\n_c = AddReview;\nconsole.log(AddReview);\nexport default AddReview;\nvar _c;\n$RefreshReg$(_c, \"AddReview\");","map":{"version":3,"names":["React","useState","MovieDataService","Link","Form","Button","jsxDEV","_jsxDEV","AddReview","props","_s","editing","initialReviewState","review","setReview","submitted","setSubitted","onChangeReview","e","target","value","saveReview","data","name","user","user_id","id","movie_id","match","params","then","response","catch","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","to","Group","Label","Control","type","required","onChange","variant","onClick","_c","$RefreshReg$"],"sources":["/home/cambam/Desktop/dev/mern/movieReviewApp/movie-reviews/frontend/src/components/add-review.js"],"sourcesContent":["import React, { useState } from \"react\"\nimport MovieDataService from \"../services/movies\"\nimport { Link } from \"react-router-dom\"\nimport Form from 'react-bootstrap/Form'\nimport Button from \"react-bootstrap/esm/Button\"\n\nconst AddReview = props => {\n\n    let editing = false\n    let initialReviewState = \"\"\n\n    // if(props.location.state && props.location.state.currentReview){\n    //     editing = true\n    //     initialReviewState = props.location.state.currentReview.review\n    // }\n\n    const [review, setReview] = useState(initialReviewState)\n    const [submitted, setSubitted] = useState(false)\n\n    const onChangeReview = e => {\n        const review = e.target.value\n        setReview(review);\n    }\n\n    const saveReview = () => {\n        var data = {\n            review: review,\n            name: props.user.name,\n            user_id: props.user.id,\n            movie_id: props.match.params.id // This will get the movie id directly from the url\n        }\n\n        // if(editing){\n        //     // get existing review id\n        //     data.review_id = props.location.state.currentReview._id\n        //     MovieDataService.updateReview(data).then(response =>{\n        //         setSubitted(true);\n        //         console.log(response.data)\n        //     }).catch(e =>{\n        //         console.log(e)\n        //     })\n        // }\n        // else{\n            MovieDataService.onChangeReview(data).then(response => {\n                setSubitted(true)\n            }).catch(e => {\n                console.log(e);\n            })\n        // }\n    }\n\n    return(\n        <div>\n            {submitted ? (\n                <div>\n                    <h4>Review submitted successfully</h4>\n                    <Link to={\"/movies/\" + props.match.params.id}>\n                        Back to Movie\n                    </Link>\n                </div>\n            ):(\n                <Form>\n                    <Form.Group>\n                        <Form.Label>{editing ? \"Edit\" : \"Create\"} Review</Form.Label>\n                        <Form.Control\n                        type=\"text\"\n                        required\n                        value={review}\n                        onChange={onChangeReview}/>\n                    </Form.Group>\n                    <Button variant=\"primary\" onClick={saveReview}>\n                        Submit\n                    </Button>\n                </Form>\n            )}\n        </div>\n    )\n}\nconsole.log(AddReview);\nexport default AddReview;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}